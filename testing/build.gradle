test {
  useJUnitPlatform()

  reports.html.required = false

  testLogging {
    events "PASSED",
           "SKIPPED",
           "FAILED",
           "PASSED",
           "STANDARD_OUT",
           "STANDARD_ERROR"
    showStackTraces = true
    exceptionFormat = "full"
  }

  failFast = false
}

subprojects {
  if (!new File(projectDir, "src").exists()) {
    return
  }

  dependencies {
    implementation "com.google.guava:guava:${VER_GUAVA}"
    testImplementation "org.junit.jupiter:junit-jupiter:${VER_JUNIT}"
    testRuntimeOnly "org.junit.platform:junit-platform-launcher:${VER_JUNIT_LAUNCHER}"
  }
}
